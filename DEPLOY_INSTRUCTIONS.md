# دليل نشر تطبيق "السند برو" على الإنترنت (Railway)

بما أن التطبيق يستخدم قاعدة بيانات **SQLite** (ملف محلي `dev.db`)، فإن رفعه على خوادم سحابية مثل Railway أو Render يتطلب انتباهاً خاصاً لضمان عدم ضياع البيانات عند إعادة تشغيل الخادم.

## الخيار الأفضل: استخدام Railway مع Volume (قرص تخزين دائم)

خدمة **Railway** توفر ميزة تسمى **Volumes** تسمح بالاحتفاظ بملف قاعدة البيانات حتى بعد التحديثات.

### الخطوات:

1.  **رفع الكود على GitHub**:
    *   قم بإنشاء مستودع (Repository) جديد على GitHub.
    *   ارفع ملفات المشروع عليه (تأكد من عدم رفع مجلد `node_modules` أو ملف `.env`).
    *   تأكد من وجود ملف `.gitignore` يحتوي على:
        ```text
        node_modules
        .env
        backend/prisma/*.db
        backend/prisma/*.db-journal
        uploads/
        ```

2.  **إنشاء مشروع جديد في Railway**:
    *   ادخل على [Railway.app](https://railway.app/).
    *   اضغط **New Project** -> **Deploy from GitHub repo**.
    *   اختر المستودع الذي رفعته.

3.  **الإعدادات (Variables)**:
    *   بعد الإنشاء، اذهب إلى تبويب **Variables**.
    *   أضف المتغيرات التالية (نفس الموجودة في `.env` المحلي لكن للإنتاج):
        *   `NODE_ENV` = `production`
        *   `JWT_SECRET` = (ضع رمزاً طويلاً ومعقداً عشوائياً)
        *   `DATABASE_URL` = `file:/app/data/dev.db` (لاحظ المسار `/app/data/`)

4.  **إضافة قرص تخزين (Volume)**:
    *   اذهب إلى إعدادات الخدمة (Settings) في Railway.
    *   ابحث عن قسم **Volumes**.
    *   اضغط **Add Volume**.
    *   اكتب مسار المجلد (Mount Path): `/app/data`
    *   هذا سيضمن أن يتم حفظ ملف قاعدة البيانات في هذا المجلد المحمي.

5.  **توليد قاعدة البيانات**:
    *   عند التشغيل لأول مرة، سيقوم Prisma بإنشاء الملف تلقائياً بفضل إعداداتنا.
    *   قد تحتاج لتفيذ أمر `npx prisma migrate deploy` من خلال سطر أوامر Railway (Command Palette) إذا لزم الأمر، لكن غالباً سيعمل تلقائياً مع الكود الحالي.

### ملاحظات:
*   إذا لم تستخدم Volume، سيتم مسح قاعدة البيانات في كل مرة تقوم فيها بتحديث الكود.
*   تطبيقك يعمل الآن على رابط مثل: `https://sanad-pro-production.up.railway.app`
